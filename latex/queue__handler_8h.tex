\hypertarget{queue__handler_8h}{}\section{source/queue\+\_\+handler.h File Reference}
\label{queue__handler_8h}\index{source/queue\+\_\+handler.\+h@{source/queue\+\_\+handler.\+h}}


File that contains all the different function that performs operations on the queue matrix.  


{\ttfamily \#include \char`\"{}elevator\+\_\+driver.\+h\char`\"{}}\newline
Include dependency graph for queue\+\_\+handler.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=243pt]{queue__handler_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{queue__handler_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{queue__handler_8h_aa8cecfc5c5c054d2875c03e77b7be15d}\label{queue__handler_8h_aa8cecfc5c5c054d2875c03e77b7be15d}} 
\#define {\bfseries T\+R\+UE}~1
\item 
\mbox{\Hypertarget{queue__handler_8h_aa93f0eb578d23995850d61f7d61c55c1}\label{queue__handler_8h_aa93f0eb578d23995850d61f7d61c55c1}} 
\#define {\bfseries F\+A\+L\+SE}~0
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{queue__handler_8h_ae5d2620687480f2b74abf412586cc496}{queue\+\_\+handler\+\_\+clear\+\_\+queue} (\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$e)
\begin{DoxyCompactList}\small\item\em Function that clears the queue matrix in case of emergency stop. \end{DoxyCompactList}\item 
void \hyperlink{queue__handler_8h_aca66cd1422f2b62388ee754fad6b4125}{queue\+\_\+handler\+\_\+update\+\_\+outside} (\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$e)
\begin{DoxyCompactList}\small\item\em Function that searches for orders and updates the queue. \end{DoxyCompactList}\item 
int \hyperlink{queue__handler_8h_ac05310be57c5b344e7a47437cd86b99b}{queue\+\_\+handler\+\_\+change\+\_\+dir} (\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$e)
\begin{DoxyCompactList}\small\item\em Function that changesqueue\+\_\+hj the current direction the the elevator. \end{DoxyCompactList}\item 
void \hyperlink{queue__handler_8h_ab4637cd308b26a882949b7a018822a81}{queue\+\_\+handler\+\_\+order\+\_\+complete} (\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$e)
\begin{DoxyCompactList}\small\item\em Function that changes the number in the queue from 1 to 0 after an order is complete. \end{DoxyCompactList}\item 
void \hyperlink{queue__handler_8h_a6da1c256225849553668252dd28ca065}{queue\+\_\+handler\+\_\+update\+\_\+inside} (\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$e)
\begin{DoxyCompactList}\small\item\em Function that searches for orders from inside the elevator and updates the queue matrix if any orders. \end{DoxyCompactList}\item 
int \hyperlink{queue__handler_8h_a268a7a574af150a80c54ba8725315875}{queue\+\_\+handler\+\_\+stop} (\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$e)
\begin{DoxyCompactList}\small\item\em Function that returns 1 if the elevator should stop at current floor, and 0 if not. \end{DoxyCompactList}\item 
int \hyperlink{queue__handler_8h_aade312fd5d8424ebd3967f9e75473a6f}{queue\+\_\+handler\+\_\+order\+\_\+at\+\_\+current\+\_\+floor} (\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$e)
\begin{DoxyCompactList}\small\item\em Function that checks if there is an order of any type at the current floor. \end{DoxyCompactList}\item 
int \hyperlink{queue__handler_8h_abc7f32bae4824ca964bfcf123dfdd75d}{queue\+\_\+handler\+\_\+choose\+\_\+dir\+\_\+emergency} (\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$e)
\begin{DoxyCompactList}\small\item\em Function for chosing the next direction for the elevator when the elevator is between floors in emergency state. \end{DoxyCompactList}\item 
int \hyperlink{queue__handler_8h_a4d8004bb433b559e61cea614ac3b2ce2}{queue\+\_\+handler\+\_\+pass\+\_\+floor} (\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$e)
\begin{DoxyCompactList}\small\item\em Function that decides if the elevator should pass a floor due to orders above or not. \end{DoxyCompactList}\item 
int \hyperlink{queue__handler_8h_a6cea3d2867bde86ca19de6b6aec905ca}{queue\+\_\+handler\+\_\+order\+\_\+above} (\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$e)
\begin{DoxyCompactList}\small\item\em Function that iterates through the above floors and searches for orders of any type. \end{DoxyCompactList}\item 
int \hyperlink{queue__handler_8h_a8f6f1c58428646fa957d97d9b1656a30}{queue\+\_\+handler\+\_\+order\+\_\+below} (\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$e)
\begin{DoxyCompactList}\small\item\em Function that iterates through the below floors and searches for orders of any type. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
File that contains all the different function that performs operations on the queue matrix. 

\begin{DoxyAuthor}{Author}
your name (\href{mailto:you@domain.com}{\tt you@domain.\+com}) 
\end{DoxyAuthor}


\subsection{Function Documentation}
\mbox{\Hypertarget{queue__handler_8h_ac05310be57c5b344e7a47437cd86b99b}\label{queue__handler_8h_ac05310be57c5b344e7a47437cd86b99b}} 
\index{queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}!queue\+\_\+handler\+\_\+change\+\_\+dir@{queue\+\_\+handler\+\_\+change\+\_\+dir}}
\index{queue\+\_\+handler\+\_\+change\+\_\+dir@{queue\+\_\+handler\+\_\+change\+\_\+dir}!queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}}
\subsubsection{\texorpdfstring{queue\+\_\+handler\+\_\+change\+\_\+dir()}{queue\_handler\_change\_dir()}}
{\footnotesize\ttfamily int queue\+\_\+handler\+\_\+change\+\_\+dir (\begin{DoxyParamCaption}\item[{\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$}]{e }\end{DoxyParamCaption})}



Function that changesqueue\+\_\+hj the current direction the the elevator. 

If current direction is up, the function will first search for orders above before searching for orders below afterwards. Likewise, if current direction is down, the functtion first search for orders below, before searching for orders above. When the elevator is in idle state it will switch between searching for orders above and below and return 1 as long as no order is found. When an order is found it wil return 0. This means that as long as the elevator returns 1 it has not found an order. 
\begin{DoxyParams}{Parameters}
{\em \hyperlink{structelevator__t}{elevator\+\_\+t}} & $\ast$e, pointer to a struct that contains all the information important for running the elevator. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the elevator should change direction and 0 if not. 
\end{DoxyReturn}


Definition at line 51 of file queue\+\_\+handler.\+c.

\mbox{\Hypertarget{queue__handler_8h_abc7f32bae4824ca964bfcf123dfdd75d}\label{queue__handler_8h_abc7f32bae4824ca964bfcf123dfdd75d}} 
\index{queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}!queue\+\_\+handler\+\_\+choose\+\_\+dir\+\_\+emergency@{queue\+\_\+handler\+\_\+choose\+\_\+dir\+\_\+emergency}}
\index{queue\+\_\+handler\+\_\+choose\+\_\+dir\+\_\+emergency@{queue\+\_\+handler\+\_\+choose\+\_\+dir\+\_\+emergency}!queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}}
\subsubsection{\texorpdfstring{queue\+\_\+handler\+\_\+choose\+\_\+dir\+\_\+emergency()}{queue\_handler\_choose\_dir\_emergency()}}
{\footnotesize\ttfamily int queue\+\_\+handler\+\_\+choose\+\_\+dir\+\_\+emergency (\begin{DoxyParamCaption}\item[{\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$}]{e }\end{DoxyParamCaption})}



Function for chosing the next direction for the elevator when the elevator is between floors in emergency state. 

If the elevator stops between floors we need to have a differnt function to choose direction. For example if we are between the first and second floor with current direction upwards and an order is made in the first floor, the elevator does not know it is between floors and not at the first floor, as the variable current\+\_\+floor says. Therefore the functtion needs to change the current floor from first to second and also change current direction to down. The same applies to other direction and floors.

\begin{DoxyReturn}{Returns}
1 if direction and floor is set as it should, and 0 otherwise. 
\end{DoxyReturn}


Definition at line 97 of file queue\+\_\+handler.\+c.

\mbox{\Hypertarget{queue__handler_8h_ae5d2620687480f2b74abf412586cc496}\label{queue__handler_8h_ae5d2620687480f2b74abf412586cc496}} 
\index{queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}!queue\+\_\+handler\+\_\+clear\+\_\+queue@{queue\+\_\+handler\+\_\+clear\+\_\+queue}}
\index{queue\+\_\+handler\+\_\+clear\+\_\+queue@{queue\+\_\+handler\+\_\+clear\+\_\+queue}!queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}}
\subsubsection{\texorpdfstring{queue\+\_\+handler\+\_\+clear\+\_\+queue()}{queue\_handler\_clear\_queue()}}
{\footnotesize\ttfamily void queue\+\_\+handler\+\_\+clear\+\_\+queue (\begin{DoxyParamCaption}\item[{\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$}]{e }\end{DoxyParamCaption})}



Function that clears the queue matrix in case of emergency stop. 


\begin{DoxyParams}{Parameters}
{\em \hyperlink{structelevator__t}{elevator\+\_\+t}} & $\ast$e, pointer to a struct that contains all the information important for running the elevator. \\
\hline
\end{DoxyParams}


Definition at line 6 of file queue\+\_\+handler.\+c.

\mbox{\Hypertarget{queue__handler_8h_a6cea3d2867bde86ca19de6b6aec905ca}\label{queue__handler_8h_a6cea3d2867bde86ca19de6b6aec905ca}} 
\index{queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}!queue\+\_\+handler\+\_\+order\+\_\+above@{queue\+\_\+handler\+\_\+order\+\_\+above}}
\index{queue\+\_\+handler\+\_\+order\+\_\+above@{queue\+\_\+handler\+\_\+order\+\_\+above}!queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}}
\subsubsection{\texorpdfstring{queue\+\_\+handler\+\_\+order\+\_\+above()}{queue\_handler\_order\_above()}}
{\footnotesize\ttfamily int queue\+\_\+handler\+\_\+order\+\_\+above (\begin{DoxyParamCaption}\item[{\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$}]{e }\end{DoxyParamCaption})}



Function that iterates through the above floors and searches for orders of any type. 


\begin{DoxyParams}{Parameters}
{\em \hyperlink{structelevator__t}{elevator\+\_\+t}} & $\ast$e, pointer to a struct that contains all the information important for running the elevator. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if there are an order of any type in one of the above floors. 0 otherwise. 
\end{DoxyReturn}


Definition at line 215 of file queue\+\_\+handler.\+c.

\mbox{\Hypertarget{queue__handler_8h_aade312fd5d8424ebd3967f9e75473a6f}\label{queue__handler_8h_aade312fd5d8424ebd3967f9e75473a6f}} 
\index{queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}!queue\+\_\+handler\+\_\+order\+\_\+at\+\_\+current\+\_\+floor@{queue\+\_\+handler\+\_\+order\+\_\+at\+\_\+current\+\_\+floor}}
\index{queue\+\_\+handler\+\_\+order\+\_\+at\+\_\+current\+\_\+floor@{queue\+\_\+handler\+\_\+order\+\_\+at\+\_\+current\+\_\+floor}!queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}}
\subsubsection{\texorpdfstring{queue\+\_\+handler\+\_\+order\+\_\+at\+\_\+current\+\_\+floor()}{queue\_handler\_order\_at\_current\_floor()}}
{\footnotesize\ttfamily int queue\+\_\+handler\+\_\+order\+\_\+at\+\_\+current\+\_\+floor (\begin{DoxyParamCaption}\item[{\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$}]{e }\end{DoxyParamCaption})}



Function that checks if there is an order of any type at the current floor. 


\begin{DoxyParams}{Parameters}
{\em \hyperlink{structelevator__t}{elevator\+\_\+t}} & $\ast$e, pointer to a struct that contains all the information important for running the elevator. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if there is an order at the floor, 0 otherwise. 
\end{DoxyReturn}


Definition at line 182 of file queue\+\_\+handler.\+c.

\mbox{\Hypertarget{queue__handler_8h_a8f6f1c58428646fa957d97d9b1656a30}\label{queue__handler_8h_a8f6f1c58428646fa957d97d9b1656a30}} 
\index{queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}!queue\+\_\+handler\+\_\+order\+\_\+below@{queue\+\_\+handler\+\_\+order\+\_\+below}}
\index{queue\+\_\+handler\+\_\+order\+\_\+below@{queue\+\_\+handler\+\_\+order\+\_\+below}!queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}}
\subsubsection{\texorpdfstring{queue\+\_\+handler\+\_\+order\+\_\+below()}{queue\_handler\_order\_below()}}
{\footnotesize\ttfamily int queue\+\_\+handler\+\_\+order\+\_\+below (\begin{DoxyParamCaption}\item[{\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$}]{e }\end{DoxyParamCaption})}



Function that iterates through the below floors and searches for orders of any type. 


\begin{DoxyParams}{Parameters}
{\em \hyperlink{structelevator__t}{elevator\+\_\+t}} & $\ast$e, pointer to a struct that contains all the information important for running the elevator. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if there are an order of any type in one of the below floors. 0 otherwise. 
\end{DoxyReturn}


Definition at line 224 of file queue\+\_\+handler.\+c.

\mbox{\Hypertarget{queue__handler_8h_ab4637cd308b26a882949b7a018822a81}\label{queue__handler_8h_ab4637cd308b26a882949b7a018822a81}} 
\index{queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}!queue\+\_\+handler\+\_\+order\+\_\+complete@{queue\+\_\+handler\+\_\+order\+\_\+complete}}
\index{queue\+\_\+handler\+\_\+order\+\_\+complete@{queue\+\_\+handler\+\_\+order\+\_\+complete}!queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}}
\subsubsection{\texorpdfstring{queue\+\_\+handler\+\_\+order\+\_\+complete()}{queue\_handler\_order\_complete()}}
{\footnotesize\ttfamily void queue\+\_\+handler\+\_\+order\+\_\+complete (\begin{DoxyParamCaption}\item[{\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$}]{e }\end{DoxyParamCaption})}



Function that changes the number in the queue from 1 to 0 after an order is complete. 

If any type of order at current floor the function will remove the order from the order matrix. 
\begin{DoxyParams}{Parameters}
{\em \hyperlink{structelevator__t}{elevator\+\_\+t}} & $\ast$e, pointer to a struct that contains all the information important for running the elevator. \\
\hline
\end{DoxyParams}


Definition at line 175 of file queue\+\_\+handler.\+c.

\mbox{\Hypertarget{queue__handler_8h_a4d8004bb433b559e61cea614ac3b2ce2}\label{queue__handler_8h_a4d8004bb433b559e61cea614ac3b2ce2}} 
\index{queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}!queue\+\_\+handler\+\_\+pass\+\_\+floor@{queue\+\_\+handler\+\_\+pass\+\_\+floor}}
\index{queue\+\_\+handler\+\_\+pass\+\_\+floor@{queue\+\_\+handler\+\_\+pass\+\_\+floor}!queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}}
\subsubsection{\texorpdfstring{queue\+\_\+handler\+\_\+pass\+\_\+floor()}{queue\_handler\_pass\_floor()}}
{\footnotesize\ttfamily int queue\+\_\+handler\+\_\+pass\+\_\+floor (\begin{DoxyParamCaption}\item[{\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$}]{e }\end{DoxyParamCaption})}



Function that decides if the elevator should pass a floor due to orders above or not. 

If the elevator is moving upwards, the function will first iterate through the above floors searching for floors with orders in the oposite direction and no orders in the current direction, if any the function returns 1. And moving downwards the function will, likewise, search for orders below and if there are any floors with orders up and no orders down it will return 1. Otherwise it returns 0.


\begin{DoxyParams}{Parameters}
{\em \hyperlink{structelevator__t}{elevator\+\_\+t}} & $\ast$e, pointer to a struct that contains all the information important for running the elevator. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
returns 1 if the elevator should pass the floor, 0 if not. 
\end{DoxyReturn}


Definition at line 190 of file queue\+\_\+handler.\+c.

\mbox{\Hypertarget{queue__handler_8h_a268a7a574af150a80c54ba8725315875}\label{queue__handler_8h_a268a7a574af150a80c54ba8725315875}} 
\index{queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}!queue\+\_\+handler\+\_\+stop@{queue\+\_\+handler\+\_\+stop}}
\index{queue\+\_\+handler\+\_\+stop@{queue\+\_\+handler\+\_\+stop}!queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}}
\subsubsection{\texorpdfstring{queue\+\_\+handler\+\_\+stop()}{queue\_handler\_stop()}}
{\footnotesize\ttfamily int queue\+\_\+handler\+\_\+stop (\begin{DoxyParamCaption}\item[{\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$}]{e }\end{DoxyParamCaption})}



Function that returns 1 if the elevator should stop at current floor, and 0 if not. 

The function first check if the current floor is top or bottom floor and if there is an order at one of these floors. It returns 1 if both is true. Afterwards, if the elevator is moving upwards, it searches for orders up or inside above the current floor before stopping for order down. Likewise, if the elevator is moving downwards, it searches for orders down or inside below the current floor before stopping for order up.


\begin{DoxyParams}{Parameters}
{\em \hyperlink{structelevator__t}{elevator\+\_\+t}} & $\ast$e, pointer to a struct that contains all the information important for running the elevator. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the elevator should stop and 0 otherwise. 
\end{DoxyReturn}


Definition at line 144 of file queue\+\_\+handler.\+c.

\mbox{\Hypertarget{queue__handler_8h_a6da1c256225849553668252dd28ca065}\label{queue__handler_8h_a6da1c256225849553668252dd28ca065}} 
\index{queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}!queue\+\_\+handler\+\_\+update\+\_\+inside@{queue\+\_\+handler\+\_\+update\+\_\+inside}}
\index{queue\+\_\+handler\+\_\+update\+\_\+inside@{queue\+\_\+handler\+\_\+update\+\_\+inside}!queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}}
\subsubsection{\texorpdfstring{queue\+\_\+handler\+\_\+update\+\_\+inside()}{queue\_handler\_update\_inside()}}
{\footnotesize\ttfamily void queue\+\_\+handler\+\_\+update\+\_\+inside (\begin{DoxyParamCaption}\item[{\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$}]{e }\end{DoxyParamCaption})}



Function that searches for orders from inside the elevator and updates the queue matrix if any orders. 


\begin{DoxyParams}{Parameters}
{\em \hyperlink{structelevator__t}{elevator\+\_\+t}} & $\ast$e, pointer to a struct that contains all the information important for running the elevator. \\
\hline
\end{DoxyParams}


Definition at line 35 of file queue\+\_\+handler.\+c.

\mbox{\Hypertarget{queue__handler_8h_aca66cd1422f2b62388ee754fad6b4125}\label{queue__handler_8h_aca66cd1422f2b62388ee754fad6b4125}} 
\index{queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}!queue\+\_\+handler\+\_\+update\+\_\+outside@{queue\+\_\+handler\+\_\+update\+\_\+outside}}
\index{queue\+\_\+handler\+\_\+update\+\_\+outside@{queue\+\_\+handler\+\_\+update\+\_\+outside}!queue\+\_\+handler.\+h@{queue\+\_\+handler.\+h}}
\subsubsection{\texorpdfstring{queue\+\_\+handler\+\_\+update\+\_\+outside()}{queue\_handler\_update\_outside()}}
{\footnotesize\ttfamily void queue\+\_\+handler\+\_\+update\+\_\+outside (\begin{DoxyParamCaption}\item[{\hyperlink{structelevator__t}{elevator\+\_\+t} $\ast$}]{e }\end{DoxyParamCaption})}



Function that searches for orders and updates the queue. 


\begin{DoxyParams}{Parameters}
{\em \hyperlink{structelevator__t}{elevator\+\_\+t}} & $\ast$e, pointer to a struct that contains all the information important for running the elevator. \\
\hline
\end{DoxyParams}


Definition at line 14 of file queue\+\_\+handler.\+c.

